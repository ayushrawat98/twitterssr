import{a as D}from"./chunk-G5KA7DMQ.js";import{a as S,b as m,c as b,d as k,e as y,f as l,h as _,i as F,k as N}from"./chunk-BFRBVT5I.js";import{B as i,C as r,Ea as h,Ha as C,I as n,Ia as w,N as a,O as c,P as d,R as f,X as s,Z as g,ca as v,o as u}from"./chunk-2XOZC63U.js";var G=class p{constructor(e,o){this._authservice=e;this.route=o}message;loginform=new y({username:new l("",[m.required]),password:new l("",[m.required])});production=C.production;login(){this._authservice.login(this.loginform.value).subscribe({next:e=>{this.message="",this._authservice.userdata.set(D(e.token)),localStorage.setItem("token",e.token),document.cookie=`jwt=${e.token}; path=/;`,this.route.navigateByUrl("/main")},error:e=>{this.message=e.error.message}})}static \u0275fac=function(o){return new(o||p)(r(w),r(h))};static \u0275cmp=u({type:p,selectors:[["app-login"]],standalone:!0,features:[v],decls:6,vars:3,consts:[[1,"login",3,"formGroup"],["type","text","placeholder","@username","formControlName","username",1,"input-with-at"],["type","password","placeholder","password","formControlName","password"],[3,"click","disabled"]],template:function(o,t){o&1&&(a(0,"div",0),d(1,"input",1)(2,"input",2),a(3,"button",3),f("click",function(){return t.login()}),s(4,"Login"),c()(),s(5)),o&2&&(n("formGroup",t.loginform),i(3),n("disabled",t.loginform.invalid),i(2),g(" ",t.message,""))},dependencies:[N,S,b,k,_,F]})};export{G as LoginComponent};
