import{a as S}from"./chunk-G5KA7DMQ.js";import{a as C,b as o,c as y,d as b,e as N,f as i,h as w,i as R,k as _}from"./chunk-4LILKTLM.js";import{$ as g,B as s,D as a,E as u,Ia as v,K as n,Na as h,P as m,Q as c,R as d,T as f,Z as l}from"./chunk-LNFGHZMF.js";var D=class p{constructor(e,t){this._authservice=e;this.route=t}message;registerform=new N({username:new i("",{nonNullable:!0,validators:[o.required]}),displayname:new i("",{nonNullable:!0,validators:[o.required]}),password:new i("",{nonNullable:!0,validators:[o.required]})});register(){this._authservice.register(this.registerform.value).subscribe({next:e=>{this.message=e.message,this._authservice.userdata.set(S(e.token)),this.route.navigateByUrl("/main/0")},error:e=>{this.message=e.error.message}})}static \u0275fac=function(t){return new(t||p)(a(h),a(v))};static \u0275cmp=u({type:p,selectors:[["app-register"]],decls:7,vars:3,consts:[[1,"login",3,"formGroup"],["type","text","placeholder","@username","formControlName","username"],["type","text","placeholder","display name","formControlName","displayname"],["type","password","placeholder","password","formControlName","password"],["mat-flat-button","","color","primary",3,"click","disabled"]],template:function(t,r){t&1&&(m(0,"div",0),d(1,"input",1)(2,"input",2)(3,"input",3),m(4,"button",4),f("click",function(){return r.register()}),l(5,"Register"),c()(),l(6)),t&2&&(n("formGroup",r.registerform),s(4),n("disabled",r.registerform.invalid),s(2),g(" ",r.message,""))},dependencies:[_,C,y,b,w,R],encapsulation:2})};export{D as RegisterComponent};
