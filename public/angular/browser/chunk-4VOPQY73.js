import{a as D}from"./chunk-G5KA7DMQ.js";import{a as C,b as m,c as w,d as b,e as y,f as l,h as _,i as N,k as S}from"./chunk-ECERN3PL.js";import{$ as f,B as i,D as r,E as u,K as n,Ka as v,P as s,Pa as h,Q as c,R as d,T as g,Z as a}from"./chunk-G6XVCMRK.js";var F=class p{constructor(e,o){this._authservice=e;this.route=o}message;loginform=new y({username:new l("",[m.required]),password:new l("",[m.required])});login(){this._authservice.login(this.loginform.value).subscribe({next:e=>{this.message="",this._authservice.userdata.set(D(e.token)),this.route.navigateByUrl("/main/0")},error:e=>{this.message=e.error.message}})}static \u0275fac=function(o){return new(o||p)(r(h),r(v))};static \u0275cmp=u({type:p,selectors:[["app-login"]],decls:6,vars:3,consts:[[1,"login",3,"formGroup"],["type","text","placeholder","@username","formControlName","username",1,"input-with-at"],["type","password","placeholder","password","formControlName","password"],[3,"click","disabled"]],template:function(o,t){o&1&&(s(0,"div",0),d(1,"input",1)(2,"input",2),s(3,"button",3),g("click",function(){return t.login()}),a(4,"Login"),c()(),a(5)),o&2&&(n("formGroup",t.loginform),i(3),n("disabled",t.loginform.invalid),i(2),f(" ",t.message,""))},dependencies:[S,C,w,b,_,N],encapsulation:2})};export{F as LoginComponent};
