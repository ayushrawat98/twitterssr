import './polyfills.server.mjs';
import{a as h}from"./chunk-QZLY374Y.mjs";import{a as y,b as o,c as b,d as N,e as w,f as i,h as R,i as _,k as S}from"./chunk-V3NXXGHP.mjs";import{$ as m,J as s,L as a,M as u,W as n,aa as c,ba as d,da as f,ja as l,la as g,tb as v,yb as C}from"./chunk-FFTIX3AM.mjs";import"./chunk-S6KH3LOX.mjs";var D=class p{constructor(e,t){this._authservice=e;this.route=t}message;registerform=new w({username:new i("",{nonNullable:!0,validators:[o.required]}),displayname:new i("",{nonNullable:!0,validators:[o.required]}),password:new i("",{nonNullable:!0,validators:[o.required]})});register(){this._authservice.register(this.registerform.value).subscribe({next:e=>{this.message=e.message,this._authservice.userdata.set(h(e.token)),this.route.navigateByUrl("/main/0")},error:e=>{this.message=e.error.message}})}static \u0275fac=function(t){return new(t||p)(a(C),a(v))};static \u0275cmp=u({type:p,selectors:[["app-register"]],decls:7,vars:3,consts:[[1,"login",3,"formGroup"],["type","text","placeholder","@username","formControlName","username"],["type","text","placeholder","display name","formControlName","displayname"],["type","password","placeholder","password","formControlName","password"],["mat-flat-button","","color","primary",3,"click","disabled"]],template:function(t,r){t&1&&(m(0,"div",0),d(1,"input",1)(2,"input",2)(3,"input",3),m(4,"button",4),f("click",function(){return r.register()}),l(5,"Register"),c()(),l(6)),t&2&&(n("formGroup",r.registerform),s(4),n("disabled",r.registerform.invalid),s(2),g(" ",r.message,""))},dependencies:[S,y,b,N,R,_],encapsulation:2})};export{D as RegisterComponent};
