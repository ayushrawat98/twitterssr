import './polyfills.server.mjs';
import{a as O,c as B,g as N,j as W}from"./chunk-ESFLJ37Y.mjs";import{a as j}from"./chunk-T6XNQ7JH.mjs";import{$ as c,J as m,L as g,M as y,O as F,Q as P,W as T,Wa as k,Y as S,aa as d,ca as _,da as u,ea as v,ia as h,ja as s,ka as D,la as E,ma as w,na as b,oa as M,q as a,r as l,ta as I,v as f,w as x,x as V}from"./chunk-FKUN3QF4.mjs";var C=class o{constructor(t){this.el=t}countChange=f();onInput(){let t=this.el.nativeElement.value.length;this.countChange.emit(t)}static \u0275fac=function(n){return new(n||o)(g(V))};static \u0275dir=F({type:o,selectors:[["","appCharactercounter",""]],hostBindings:function(n,e){n&1&&u("input",function(){return e.onInput()})},outputs:{countChange:"countChange"}})};var L=(o,t,n)=>({green:o,orange:t,red:n});function R(o,t){if(o&1){let n=_();c(0,"button",6),u("click",function(){a(n),v();let r=h(5);return l(r.click())}),s(1,"Upload"),d(),s(2," \xA0 ")}}function z(o,t){if(o&1){let n=_();c(0,"button",6),u("click",function(){a(n);let r=v(),p=h(5);return r.choosenFile=null,l(p.value="")}),s(1,"Remove"),d(),s(2," \xA0 ")}}var A=class o{constructor(t){this._postService=t}charCount=1200;placeholderText=x();disablePostButton=x(!1);sendText=f();choosenFile;text="";file="";ngOnInit(){}updateCount(t){this.charCount=1200-t}add(t){this.sendText.emit({content:t,file:this.choosenFile,parentpostid:null})}fileSelected(t){let n=t.target;this.setFile(n?.files)}setFile(t){t&&t?.length?this.choosenFile=t[0]:this.choosenFile=null}reset(){this.text="",this.file="",this.choosenFile=null,this.charCount=1200}ngOnDestroy(){}static \u0275fac=function(n){return new(n||o)(g(j))};static \u0275cmp=y({type:o,selectors:[["app-textarea"]],inputs:{placeholderText:[1,"placeholderText"],disablePostButton:[1,"disablePostButton"]},outputs:{sendText:"sendText"},decls:13,vars:12,consts:[["comment",""],["fileinput",""],["rows","5","appCharactercounter","",3,"ngModelChange","countChange","paste","ngModel","placeholder","ngClass"],["type","file","accept","image/jpeg,image/png,image/jpg,image/gif,video/mp4,video/webm","hidden","",2,"margin-left","auto",3,"ngModelChange","change","ngModel"],[1,"filename"],[3,"click","disabled"],[3,"click"]],template:function(n,e){if(n&1){let r=_();c(0,"textarea",2,0),M("ngModelChange",function(i){return a(r),b(e.text,i)||(e.text=i),l(i)}),u("countChange",function(i){return a(r),l(e.updateCount(i))})("paste",function(i){return a(r),l(e.setFile(i.clipboardData==null?null:i.clipboardData.files))}),d(),c(2,"div"),s(3),c(4,"input",3,1),M("ngModelChange",function(i){return a(r),b(e.file,i)||(e.file=i),l(i)}),u("change",function(i){return a(r),l(e.fileSelected(i))}),d(),P(6,R,3,0)(7,z,3,0),c(8,"span",4),s(9),d(),s(10," \xA0 "),c(11,"button",5),u("click",function(){a(r);let i=h(1);return l(e.add(i.value))}),s(12,"Post"),d()()}n&2&&(w("ngModel",e.text),T("placeholder",e.placeholderText())("ngClass",I(8,L,e.charCount>=160,e.charCount<160&&e.charCount>=60,e.charCount<60)),m(3),E(" ",e.charCount," \xA0 "),m(),w("ngModel",e.file),m(2),S(e.choosenFile?7:6),m(3),D(e.choosenFile?e.choosenFile.name:""),m(2),T("disabled",e.disablePostButton()))},dependencies:[C,k,W,O,B,N],styles:["textarea[_ngcontent-%COMP%]{margin:8px 0;width:100%;font-size:16px;padding:8px;border-radius:8px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;resize:none;background-color:transparent;color:#f5f5f5;border-color:#2e4052}textarea[_ngcontent-%COMP%]:focus-visible.green{outline:green;border-color:green}textarea[_ngcontent-%COMP%]:focus-visible.orange{border-color:orange;outline:orange}textarea[_ngcontent-%COMP%]:focus-visible.red{border-color:red;outline:red}.filename[_ngcontent-%COMP%]{font-size:12px}"]})};export{A as a};
