import './polyfills.server.mjs';
import{a as h}from"./chunk-QZLY374Y.mjs";import{a as w,b as m,c as b,d as y,e as _,f as l,h as N,i as S,k as D}from"./chunk-V3NXXGHP.mjs";import{$ as s,J as i,L as r,M as u,W as n,aa as c,ba as d,da as g,ja as a,la as f,tb as v,yb as C}from"./chunk-FFTIX3AM.mjs";import"./chunk-S6KH3LOX.mjs";var F=class p{constructor(e,o){this._authservice=e;this.route=o}message;loginform=new _({username:new l("",[m.required]),password:new l("",[m.required])});login(){this._authservice.login(this.loginform.value).subscribe({next:e=>{this.message="",this._authservice.userdata.set(h(e.token)),this.route.navigateByUrl("/main/0")},error:e=>{this.message=e.error.message}})}static \u0275fac=function(o){return new(o||p)(r(C),r(v))};static \u0275cmp=u({type:p,selectors:[["app-login"]],decls:6,vars:3,consts:[[1,"login",3,"formGroup"],["type","text","placeholder","@username","formControlName","username",1,"input-with-at"],["type","password","placeholder","password","formControlName","password"],[3,"click","disabled"]],template:function(o,t){o&1&&(s(0,"div",0),d(1,"input",1)(2,"input",2),s(3,"button",3),g("click",function(){return t.login()}),a(4,"Login"),c()(),a(5)),o&2&&(n("formGroup",t.loginform),i(3),n("disabled",t.loginform.invalid),i(2),f(" ",t.message,""))},dependencies:[D,w,b,y,N,S],encapsulation:2})};export{F as LoginComponent};
