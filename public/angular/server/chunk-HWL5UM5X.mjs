import './polyfills.server.mjs';
import{c as T}from"./chunk-GTO22LO2.mjs";import{a as g}from"./chunk-QZLY374Y.mjs";import{a as N,b as m}from"./chunk-BEMH4ZAT.mjs";import{$ as k,Da as O,M as r,N as d,Na as P,S as _,T as A,U as p,W as f,Z as a,_ as o,aa as y,ab as I,ba as S,bb as R,ca as h,gb as E,ha as e,ia as w,ib as L,kb as b,l as u,mb as j,n as C,nb as D,oa as M,ob as F,s as v,t as x}from"./chunk-5XPW4WTW.mjs";function G(t,l){t&1&&(a(0,"a",2),e(1,"login"),o(),e(2," \xA0 "),a(3,"a",2),e(4,"register"),o(),e(5," \xA0 ")),t&2&&(p("routerLink","/login"),r(3),p("routerLink","/register"))}function H(t,l){if(t&1){let i=y();a(0,"a",2),e(1),o(),e(2," \xA0 "),a(3,"a",2),e(4,"notification"),o(),e(5," \xA0 "),a(6,"a",3),S("click",function(){v(i);let c=h();return x(c.logout())}),e(7,"logout"),o()}if(t&2){let i,n,c=h();p("routerLink","/"+((i=c._authservice.userdata())==null?null:i.username)),r(),w("@"+((n=c._authservice.userdata())==null?null:n.username)),r(2),p("routerLink","/notification")}}var s=class t{constructor(l,i){this._authservice=l;this.route=i;A(()=>{let n=localStorage.getItem("token");n&&Date.now()<g(n).exp*1e3?(this._authservice.userdata.set(g(n)),document.cookie=`jwt=${n}; path=/;`):(localStorage.clear(),document.cookie="jwt=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT;")})}title="Khichdi";production=N.production;ngOnInit(){}logout(){localStorage.removeItem("token"),document.cookie="testCookie=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT;",this._authservice.userdata.set(null),this.route.navigateByUrl("/main")}static \u0275fac=function(i){return new(i||t)(d(m),d(j))};static \u0275cmp=C({type:t,selectors:[["app-root"]],standalone:!0,features:[M],decls:14,vars:5,consts:[[1,"container"],["id","sliding-text"],[3,"routerLink"],[3,"click"]],template:function(i,n){i&1&&(a(0,"div",0)(1,"header")(2,"div",1)(3,"h1",2),e(4,"\u0916\u093F\u091A\u095C\u0940"),o(),a(5,"h1",2),e(6,"Khichdi"),o()()(),k(7,"router-outlet"),o(),a(8,"nav")(9,"a",2),e(10,"main"),o(),e(11," \xA0 "),_(12,G,6,2)(13,H,8,3),o()),i&2&&(r(3),p("routerLink","/main"),r(2),p("routerLink","/main"),r(4),p("routerLink","/main"),r(3),f(n._authservice.userdata()?-1:12),r(),f(n._authservice.userdata()?13:-1))},dependencies:[b,D],styles:[".container[_ngcontent-%COMP%]{width:98%;margin:auto;padding:0}nav[_ngcontent-%COMP%]{width:100%;padding:8px;position:fixed;bottom:0;display:flex;justify-content:center;background-color:#000}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:0 8px}header[_ngcontent-%COMP%]{overflow:hidden;height:72px;display:flex}#sliding-text[_ngcontent-%COMP%]{position:relative}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(90px)}50%{transform:translateY(0)}to{transform:translateY(-64px)}}#sliding-text[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp 4s ease-in-out forwards}@media (min-width:630px){.container[_ngcontent-%COMP%]{width:600px}}"]})};var U=[{path:"login",loadComponent:()=>import("./chunk-4MRGDNIC.mjs").then(t=>t.LoginComponent),canActivate:[()=>!u(m).userdata()]},{path:"register",loadComponent:()=>import("./chunk-U6GMXYTL.mjs").then(t=>t.RegisterComponent),canActivate:[()=>!u(m).userdata()]},{path:"notification",loadComponent:()=>import("./chunk-XIWMGAFD.mjs").then(t=>t.NotificationComponent)},{path:"main",loadComponent:()=>import("./chunk-CNA3YY6H.mjs").then(t=>t.MainComponent)},{path:":username",loadComponent:()=>import("./chunk-3TOYRUJT.mjs").then(t=>t.ProfileComponent)},{path:":username/post/:id",loadComponent:()=>import("./chunk-MTSFDSCQ.mjs").then(t=>t.PostexpandedComponent)},{path:"",redirectTo:"main",pathMatch:"full"}];var V={providers:[O({eventCoalescing:!0}),F(U),I(R()),L()]};var J={providers:[T()]},Y=P(V,J);var K=()=>E(s,Y),St=K;export{St as a};
